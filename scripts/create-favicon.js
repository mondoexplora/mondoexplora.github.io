const fs = require('fs');
const path = require('path');

// Simple ICO file header and data
const icoData = Buffer.from([
  // ICO header
  0x00, 0x00,  // Reserved
  0x01, 0x00,  // Type (1 = ICO)
  0x01, 0x00,  // Number of images
  
  // Directory entry
  0x10,        // Width (16px)
  0x10,        // Height (16px)
  0x00,        // Color count
  0x00,        // Reserved
  0x01, 0x00,  // Color planes
  0x20, 0x00,  // Bits per pixel
  0x40, 0x00, 0x00, 0x00,  // Size of image data
  0x16, 0x00, 0x00, 0x00,  // Offset to image data
  
  // PNG data (simplified 16x16 blue circle)
  0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A,  // PNG signature
  0x00, 0x00, 0x00, 0x0D, 0x49, 0x48, 0x44, 0x52,  // IHDR chunk
  0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x10,  // Width: 16, Height: 16
  0x08, 0x06, 0x00, 0x00, 0x00, 0x1F, 0xF3, 0xFF,  // Bit depth, color type, etc.
  0x61, 0x00, 0x00, 0x00, 0x0C, 0x49, 0x44, 0x41,  // IDAT chunk
  0x54, 0x78, 0x9C, 0x63, 0x60, 0x18, 0x05, 0x00,  // Compressed data
  0x00, 0x00, 0x03, 0x01, 0x00, 0x18, 0x00, 0x01,  // More data
  0x00, 0x00, 0x00, 0x00, 0x49, 0x45, 0x4E, 0x44,  // IEND chunk
  0xAE, 0x42, 0x60, 0x82
]);

const faviconPath = path.join(process.cwd(), 'public', 'favicon.ico');

try {
  fs.writeFileSync(faviconPath, icoData);
  console.log('✅ Favicon ICO created successfully!');
} catch (error) {
  console.error('❌ Error creating favicon:', error);
} 